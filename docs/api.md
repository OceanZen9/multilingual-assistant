# Multilingual Assistant API Documentation

This document provides details on how to use the Multilingual Assistant API.

## Authentication

The API server handles authentication with the DeepSeek service using a pre-configured `DEEPSEEK_API_KEY`. Clients do not need to send an API key with their requests.

---

## Endpoints

### 1. Translate Text

Translates text from a source language to a target language.

*   **URL:** `/api/translate`
*   **Method:** `POST`
*   **Content-Type:** `application/json`

**Request Body:**

```json
{
  "text": "Hello, world!",
  "target_language": "es",
  "source_language": "en" 
}
```
*   `text` (string, required): The text to translate.
*   `target_language` (string, required): The ISO 639-1 code for the target language (e.g., "es", "fr", "zh").
*   `source_language` (string, optional): The ISO 639-1 code for the source language. If omitted, the system may attempt to auto-detect it (current placeholder behavior).

**Success Response (200 OK):**

```json
{
  "translated_text": "Â¡Hola, mundo!",
  "detected_source_language": "en"
}
```
*   `translated_text` (string): The translated text.
*   `detected_source_language` (string): The detected or provided source language. (Note: Current translation service is a placeholder).

**Error Responses:**

*   **400 Bad Request (VALIDATION_ERROR):** If request payload is invalid (e.g., missing required fields).
    ```json
    {
      "error_code": "VALIDATION_ERROR",
      "message": "Invalid input provided.",
      "details": {
        "target_language": ["Missing data for required field."]
      }
    }
    ```
*   **400 Bad Request (BAD_REQUEST):** If no JSON data is provided.
    ```json
    {
        "error_code": "BAD_REQUEST",
        "message": "No input data provided"
    }
    ```
*   **502 Bad Gateway (TRANSLATION_SERVICE_ERROR):** If the backend translation service encounters an error.
    ```json
    {
      "error_code": "TRANSLATION_SERVICE_ERROR",
      "message": "Error message from translation service or API key issue."
    }
    ```
*   **500 Internal Server Error (INTERNAL_SERVER_ERROR):** For unexpected server errors.
    ```json
    {
        "error_code": "INTERNAL_SERVER_ERROR",
        "message": "An unexpected internal error occurred."
    }
    ```

---

### 2. Generate Content

Generates content based on a given prompt using the DeepSeek model.

*   **URL:** `/api/generate`
*   **Method:** `POST`
*   **Content-Type:** `application/json`

**Request Body:**

```json
{
  "prompt": "Write a short story about a robot learning to paint.",
  "max_tokens": 200,
  "temperature": 0.8
}
```
*   `prompt` (string, required): The prompt to generate content from.
*   `max_tokens` (integer, optional, default: 150): Maximum number of tokens for the generated text.
*   `temperature` (float, optional, default: 0.7): Controls randomness. Higher values (e.g., 0.8) make output more random, lower values (e.g., 0.2) make it more deterministic.

**Success Response (200 OK):**

```json
{
  "generated_text": "The little robot, Unit 734, picked up the brush. Its metallic fingers, usually so adept at soldering circuits, fumbled slightly...",
  "prompt_used": "Write a short story about a robot learning to paint."
}
```
*   `generated_text` (string): The content generated by the model.
*   `prompt_used` (string): The prompt that was used for generation.

**Error Responses:**

*   **400 Bad Request (VALIDATION_ERROR):** If request payload is invalid.
    ```json
    {
      "error_code": "VALIDATION_ERROR",
      "message": "Invalid input provided.",
      "details": {
        "prompt": ["Missing data for required field."]
      }
    }
    ```
*   **400 Bad Request (BAD_REQUEST):** If no JSON data is provided.
    ```json
    {
        "error_code": "BAD_REQUEST",
        "message": "No input data provided"
    }
    ```
*   **502 Bad Gateway (DEEPSEEK_SERVICE_ERROR):** If the DeepSeek API service encounters an error or returns an unexpected response.
    ```json
    {
      "error_code": "DEEPSEEK_SERVICE_ERROR",
      "message": "Error communicating with DeepSeek API or API key issue."
    }
    ```
*   **500 Internal Server Error (INTERNAL_SERVER_ERROR):** For unexpected server errors.
    ```json
    {
        "error_code": "INTERNAL_SERVER_ERROR",
        "message": "An unexpected internal error occurred."
    }
    ```

---
```
